<!-- pageant/templates/pageant/gallery.html -->
 {% load form_tags.py %}
{{ form.title|add_class:"form-control" }}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <title>Jessica's Photo Gallery</title>
    <style>
      body {
        font-family: Arial;
        text-align: center;
      }
      .gallery {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }
      .photo {
        margin: 10px;
        border: 2px solid #ccc;
        padding: 5px;
      }
      img {
        max-width: 300px;
        height: auto;
      }

      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f2f2f2;
      }

      form {
        margin-bottom: 30px;
        padding: 10px;
        background: white;
        border: 1px solid #ddd;
      }

      img {
        border-radius: 8px;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
      }

      .gallery-item {
        margin-bottom: 20px;
        background: white;
        padding: 10px;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <h1 style="color: purple">Jessica's Pageant Gallery</h1>
    <h2 style="color: green">You're on the <u>Gallery Page</u></h2>
    <p>
      This is a simple gallery page that allows users to upload photos and view
      existing ones.
    </p>

    <h1>Photo Gallery</h1>

    {% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <li class="{{ message.tags }}">{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}

    <!-- Upload Form -->
    <form method="POST" enctype="multipart/form-data">
  {% csrf_token %}
  {{ form.non_field_errors }}
  <div class="form-group">
    {{ form.title.label_tag }}
    {{ form.title|add_class:"form-control" }}
    {{ form.title.errors }}
  </div>
  <div class="form-group">
    {{ form.image.label_tag }}
    {{ form.image|add_class:"form-control" }}
    {{ form.image.errors }}
  </div>
  <button type="submit" class="btn btn-success">Upload</button>
</form>

    <hr />

    <!-- Show Uploaded Photos -->
   {% for photo in page_obj %}
  <!-- photo details -->
{% endfor %}

<div class="pagination">
  {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}">Previous</a>
  {% endif %}

  <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

  {% if page_obj.has_next %}
    <a href="?page={{ page_obj.next_page_number }}">Next</a>
  {% endif %}
</div>

{% for page_num in page_obj.paginator.page_range %}
  {% if page_obj.number == page_num %}
    <strong>{{ page_num }}</strong>
  {% else %}
    <a href="?page={{ page_num }}">{{ page_num }}</a>
  {% endif %}
{% endfor %}

{% if messages %}
  <ul class="messages">
    {% for message in messages %}
      <li class="{{ message.tags }}">{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}


<div class="gallery">
  {% for photo in page_obj %}
    <div class="photo-card">
      <img src="{{ photo.image.url }}" alt="Photo">
      <p>{{ photo.caption }}</p>
      <a href="{% url 'edit_photo' photo.pk %}">Edit</a>
      <a href="{% url 'delete_photo' photo.pk %}">Delete</a>
    </div>
  {% endfor %}
</div>



    
</html>
<!-- This is a simple gallery page that allows users to upload photos and view existing ones. -->
